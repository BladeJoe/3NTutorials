import{_ as z}from"./Bb52nl-9.js";import{X as B,r as d,f as M,g as N,c as n,o as r,a as l,i as m,l as S,Y as j,F as p,j as x,t as v,m as f,b as V,w as E,d as H,Z as F,e as O}from"./Dmt14I2r.js";const U={class:"sidebar-container"},D=["checked"],P={class:"sidebar"},R={class:"table-sidebar"},W={class:"search-container"},$={class:"table-header"},A={key:1},Q={key:2,class:"notranslate skeleton-div"},q={key:3},X=["innerHTML"],J={__name:"Sidebar",setup(Y){B();const b=d([]),k=d(null),u=d(null),y=d(!1),c=d(""),w=a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"",_=async()=>{const a=["http://localhost:3333/api/all","http://192.168.0.100:3333/api/all","http://192.168.12.1:3333/api/all"];for(const e of a)try{const o=await fetch(e);if(!o.ok)continue;const t=await o.json();b.value=t,g(t);break}catch(o){console.error(`Failed to fetch data from ${e}`,o)}},g=a=>{const e={},o=["Beginner","Intermediate","Advanced","Expert","Uncategorized"];a.forEach(s=>{const i=s.lvl||"Uncategorized";e[i]||(e[i]=[]),e[i].push(s)});for(const s in e)e[s].sort((i,T)=>i.id-T.id);const t={};o.forEach(s=>{e[s]&&(t[s]=e[s])});for(const s in e)t[s]||(t[s]=e[s]);u.value=t},L=a=>a.name.toLowerCase().includes(c.value.toLowerCase()),h=M(()=>{if(!u.value||!c.value)return u.value||{};const a=c.value.toLowerCase();return Object.keys(u.value).reduce((e,o)=>{const t=u.value[o].filter(s=>s.name.toLowerCase().includes(a));return t.length>0&&(e[o]=t),e},{})}),C=async()=>{await new Promise(a=>setTimeout(a,100)),setTimeout(_,0)};return N(()=>{setTimeout(()=>{C(),y.value=window.innerWidth<=768,window.addEventListener("resize",()=>{y.value=window.innerWidth<=768})},500)}),(a,e)=>{const o=z;return r(),n("div",U,[l("input",{type:"checkbox",name:"sidebar-checkbox",id:"sidebar-checkbox",class:"sidebar-checkbox",checked:!y.value},null,8,D),e[5]||(e[5]=l("label",{"aria-label":"Toggle navigation sidebar",class:"toggle-btn",for:"sidebar-checkbox"},[l("svg",{class:"sidebar-icon",width:"48",height:"48",viewBox:"0 0 24 25"},[l("path",{d:"M8.707 12H19.5a.5.5 0 1 1 0 1H8.707l3.147 3.146a.5.5 0 0 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 0 1 .708.708zM4 5.5a.5.5 0 0 1 1 0v14a.5.5 0 1 1-1 0z"})])],-1)),l("div",P,[l("ul",R,[l("li",null,[l("div",W,[S(l("input",{id:"searchbar",class:"sidebar-search",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),placeholder:"Search"},null,512),[[j,c.value]]),(r(),n("svg",{class:"clear-button",onClick:e[1]||(e[1]=t=>c.value=""),xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 76 76",baseProfile:"full","xml:space":"preserve"},e[2]||(e[2]=[l("path",{d:"M18.015 41.536a5 5 0 0 1 0-7.071l8.95-8.95C28.068 24.41 29 24 31 24h21a5 5 0 0 1 5 5v18a5 5 0 0 1-5 5H31c-2 0-2.932-.411-4.035-1.515zm29.513 1.414L42.578 38l4.95-4.95-2.578-2.578-4.95 4.95-4.95-4.95-2.578 2.578 4.95 4.95-4.95 4.95 2.578 2.578 4.95-4.95 4.95 4.95z"},null,-1)])))])]),h.value&&Object.keys(h.value).length>0?(r(!0),n(p,{key:0},x(h.value,(t,s)=>(r(),n("li",{key:s,class:"notranslate"},[l("div",null,[l("h5",$,v(w(s)),1)]),l("ul",null,[(r(!0),n(p,null,x(t,i=>(r(),n("li",{key:i.id,class:f({"visually-hidden":!L(i)})},[V(o,{to:"/tutorials/"+i.name,class:f({active:(a._.provides[F]||a.$route).path==="/tutorials/"+i.name}),"data-search-term":i.name.toLowerCase()},{default:E(()=>[H(v(i.name),1)]),_:2},1032,["to","class","data-search-term"])],2))),128))])]))),128)):c.value&&Object.keys(h.value).length===0?(r(),n("li",A,e[3]||(e[3]=[l("h5",null,"No tutorials found matching your search.",-1)]))):c.value?m("",!0):(r(),n("div",Q,e[4]||(e[4]=[O('<ul style=""><ul class="table-sidebar"><li class="notranslate"><div class="skeleton-title" style="--i:1;"></div><ul class="skeleton-wrapper"><li class="skeleton-text" style="--i:1;"></li><li class="skeleton-text" style="--i:2;"></li><li class="skeleton-text" style="--i:3;"></li><li class="skeleton-text" style="--i:4;"></li><li class="skeleton-text" style="--i:5;"></li><li class="skeleton-text" style="--i:6;"></li><li class="skeleton-text" style="--i:7;"></li><li class="skeleton-text" style="--i:8;"></li><li class="skeleton-text" style="--i:9;"></li><li class="skeleton-text" style="--i:10;"></li><li class="skeleton-text" style="--i:11;"></li><li class="skeleton-text" style="--i:12;"></li><li class="skeleton-text" style="--i:13;"></li><li class="skeleton-text" style="--i:14;"></li><li class="skeleton-text" style="--i:16;"></li><li class="skeleton-text" style="--i:17;"></li><li class="skeleton-text" style="--i:18;"></li><li class="skeleton-text" style="--i:19;"></li><li class="skeleton-text" style="--i:20;"></li><li class="skeleton-text" style="--i:21;"></li><li class="skeleton-text" style="--i:22;"></li><li class="skeleton-text" style="--i:23;"></li><li class="skeleton-text" style="--i:24;"></li></ul></li></ul></ul>',1)]))),k.value?(r(),n("div",q,[l("h3",null,v(k.value.name),1),(r(!0),n(p,null,x(k.value.content,t=>(r(),n("div",{key:t.id},[l("h5",null,v(t.title),1),l("p",{innerHTML:t.content},null,8,X)]))),128))])):m("",!0)])])])}}};export{J as default};
